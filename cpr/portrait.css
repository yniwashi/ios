/* ============ QUICK TWEAK VARS ============ */
/* sizes/colors you asked to expose */
:root{
  color-scheme: light dark;
  --bg:#0b0d10; --fg:#e9eef3; --muted:#9aa7b3; --card:#14181d; --border:#20262d;
  --btn:#1a2027; --btn-fg:#e9eef3; --btn-border:#2b333b;
  --primary:#0f2e39; --primary-fg:#e6fbff; --primary-border:#2e89a8;
  --danger:#3a1212;  --danger-fg:#ffecec;  --danger-border:#7a2626;

  --total-color:#f1f5f9;
  --cycle-color:#ff4d4d;
  --adr-color:#2ea0ff;

  --title-size:26px;
  --kpi-title:16px;
  --total-size:72px;   /* total smaller than others */
  --timer-size:78px;   /* adr/cycle big for distance */
  --countdown-size:128px;
  --log-size:16px;
  --icon-size:32px;    /* icon glyph size */
}
@media (prefers-color-scheme: light){
  :root{
    --bg:#f6f8fc; --fg:#111827; --muted:#4b5563; --card:#ffffff; --border:#e5e7eb;
    --btn:#ffffff; --btn-fg:#111827; --btn-border:#d1d5db;
    --primary:#0b6b82; --primary-fg:#ffffff; --primary-border:#0b6b82;
    --danger:#b91c1c;  --danger-fg:#ffffff;  --danger-border:#991b1b;
    --total-color:#111;
  }
}
[data-theme="light"]{ --total-color:#111 }
[data-theme="dark"] { --total-color:#f1f5f9 }

/* ============ BASE ============ */
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;font-family:system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--fg)}
.hidden{display:none!important}
.wrap{max-width:1100px;margin:0 auto;padding:14px}

.header{display:flex;flex-direction:column;align-items:center;gap:10px}
.title{font-weight:900;font-size:var(--title-size)}
.trial{margin-left:6px;font-weight:800;font-size:12px;color:#8b5cf6}
.ctrls{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
.chip{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:var(--card);color:var(--muted)}
.chip input{width:88px;padding:6px 8px;border-radius:8px;border:1px solid var(--border);background:var(--bg);color:var(--fg);text-align:center}
.icon-btn{display:inline-flex;align-items:center;justify-content:center;width:48px;height:48px;border-radius:12px;border:1px solid var(--border);background:var(--card);color:var(--fg)}
.icon{width:var(--icon-size);height:var(--icon-size)}

/* Total strip (alone, centered) */
.total-strip{display:flex;justify-content:center;margin-top:6px;margin-bottom:10px}
.card.kpi{position:relative;border:1px solid var(--border);background:var(--card);border-radius:16px;padding:14px}
.label{font-size:var(--kpi-title);letter-spacing:.08em;text-transform:uppercase;color:var(--muted);font-weight:900;text-align:center}
.value{font-variant-numeric:tabular-nums;font-family:ui-monospace,Consolas,monospace;font-size:var(--timer-size);font-weight:900;text-align:center}
.value.total{font-size:var(--total-size);color:var(--total-color)}
#cycleVal{color:var(--cycle-color)}
.value.adr{color:var(--adr-color)}

/* Portrait lane: ADR and CYCLE side-by-side */
.lane{display:grid;gap:12px;grid-template-columns:1fr 1fr}
@media (max-width:640px){ .lane{grid-template-columns:1fr} } /* small phones stack */

.row{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}
.pill{padding:12px 16px;border-radius:999px;border:1px solid var(--btn-border);background:var(--btn);color:var(--btn-fg)}
.danger{background:var(--danger);border-color:var(--danger-border);color:var(--danger-fg)}

/* Icon controls under each timer (icons priority, text hides on tight width) */
.ctrls-under .icon-ctrl{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--btn-border);background:var(--btn);color:var(--btn-fg);border-radius:12px;padding:10px 14px}
.icon-ctrl svg{width:26px;height:26px;fill:currentColor}
@media (max-width:380px){ .icon-ctrl span{display:none} } /* keep icons when cramped */

/* Pulse fills card (more visible, theme-aware via colors) */
.pulse-wrap{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none}
.pulse{
  width:95vmin;height:95vmin;border-radius:50%;
  background: radial-gradient(circle, rgba(255,77,77,.28) 20%, rgba(179,0,0,.10) 60%, transparent 70%);
  opacity:.38; transform:scale(1); animation:beat .6s ease-in-out infinite;
}
@keyframes beat{0%{transform:scale(1)}50%{transform:scale(1.12)}100%{transform:scale(1)}}

/* Countdown (hides digits+label) */
.countdown{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
  font-family:ui-monospace,Consolas,monospace;font-weight:900;font-size:var(--countdown-size);color:var(--cycle-color);pointer-events:none}

/* Below: log + waffles (scrollable) */
.below{margin-top:12px}
.log{max-height:260px;overflow:auto;font-size:var(--log-size);line-height:1.35;margin:8px 0 0 0;padding-left:20px}
.log li{margin:6px 0}

.wa-title{text-align:center;font-weight:900;font-size:22px;margin:6px 0 8px}
.wa-input{display:flex;justify-content:center;align-items:center;gap:10px;margin-bottom:10px}
.wa-input input{width:200px;font-size:22px;padding:12px 14px;border-radius:10px;border:1px solid var(--border);background:var(--bg);color:var(--fg);text-align:center}
.wa-label{font-weight:800;color:var(--muted)}
.wa-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
@media (max-width:640px){.wa-grid{grid-template-columns:1fr}}

@media print{ .no-print{display:none!important} body{background:#fff;color:#000} .card{border:none} .value.total{color:#000} }
