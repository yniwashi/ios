<!doctype html>
<html lang="en">
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
<title>CPR Timer — Trial</title>

<link rel="stylesheet" href="portrait.css"  media="(orientation:portrait)">
<link rel="stylesheet" href="landscape.css" media="(orientation:landscape)">

<body>
<div id="app" class="wrap">
  <!-- Header -->
  <header class="header no-print">
    <h1 class="title">CPR Timer <span class="trial">Trial Version</span></h1>
    <div class="ctrls">
      <div class="chip">Theme <button id="themeToggle">Auto</button></div>
      <div class="chip">BPM <input id="bpm" type="number" min="60" max="160" step="1" value="110"></div>
      <div class="chip">
        <span>Beat</span>
        <button id="btnUnmute" class="icon-btn" title="Unmute beat" aria-label="Unmute beat">
          <!-- big speaker -->
          <svg class="icon" viewBox="0 0 24 24" fill="none"><path d="M3 9v6h4l5 4V5L7 9H3z" stroke="currentColor" stroke-width="2.8"/></svg>
        </button>
        <button id="btnMute" class="icon-btn hidden" title="Mute beat" aria-label="Mute beat">
          <svg class="icon" viewBox="0 0 24 24" fill="none">
            <path d="M3 9v6h4l5 4V5L7 9H3z" stroke="currentColor" stroke-width="2.8"/>
            <path d="M16 9l5 6M21 9l-5 6" stroke="currentColor" stroke-width="2.8"/>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <!-- Total (always alone, centered) -->
  <section class="total-strip">
    <div class="card kpi">
      <div class="label">Total CPR Time</div>
      <div id="totalVal" class="value total">00:00</div>
    </div>
  </section>

  <!-- Main lane: Landscape (ADR | ACTIONS | CYCLE), Portrait (ADR + CYCLE side-by-side) -->
  <section class="lane">
    <!-- Adrenaline (LEFT in landscape) -->
    <div id="adrCard" class="card kpi">
      <div class="label">Adrenaline</div>
      <div id="adrVal" class="value adr">00:00</div>

      <div class="row no-print ctrls-under">
        <!-- Start/Resume Adrenaline -->
        <button id="btnAdrStart" class="icon-ctrl" aria-label="Start Adrenaline" title="Start Adrenaline">
          <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg><span>Start</span>
        </button>
        <!-- Pause Adrenaline -->
        <button id="btnAdrPause" class="icon-ctrl" aria-label="Pause Adrenaline" title="Pause Adrenaline" disabled>
          <svg viewBox="0 0 24 24"><path d="M6 5h4v14H6zM14 5h4v14h-4z"/></svg><span>Pause</span>
        </button>
      </div>
    </div>

    <!-- Center actions (ROSC/Stop/Shock/Amio) -->
    <div id="actionsCard" class="card kpi actions">
      <div class="label">Actions</div>
      <div class="row actions-grid no-print">
        <button id="btnROSC"  class="pill danger"><span>ROSC</span></button>
        <button id="btnStop"  class="pill danger" title="Stop (resets)"><span>Stop</span></button>
        <button id="btnShock" class="pill"><span>Shock</span></button>
        <button id="btnAmio"  class="pill"><span>Amiodarone</span></button>
      </div>
    </div>

    <!-- Cycle (RIGHT in landscape) -->
    <div id="cycleCard" class="card kpi">
      <div id="cycleLabel" class="label">Cycle</div>
      <div id="cycleVal" class="value">00:00</div>
      <!-- pulse circle fills tile -->
      <div class="pulse-wrap"><div id="pulse" class="pulse"></div></div>
      <!-- 10s countdown replaces label+digits -->
      <div id="countdown" class="countdown hidden">10</div>

      <div class="row no-print ctrls-under">
        <!-- Start/Resume CPR -->
        <button id="btnStart" class="icon-ctrl" aria-label="Start CPR" title="Start CPR">
          <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg><span>Start CPR</span>
        </button>
        <!-- Pause CPR (Total keeps running) -->
        <button id="btnPause" class="icon-ctrl" aria-label="Pause CPR" title="Pause CPR">
          <svg viewBox="0 0 24 24"><path d="M6 5h4v14H6zM14 5h4v14h-4z"/></svg><span>Pause CPR</span>
        </button>
      </div>
    </div>
  </section>

  <!-- Bottom: Export + Log + WAAFELSS (scrollable) -->
  <section class="below">
    <div class="card">
      <div class="row no-print">
        <button id="btnExport" class="wide">Export .txt</button>
        <button id="btnPrint"  class="wide">Print (PDF)</button>
      </div>
      <ul id="log" class="log"></ul>
    </div>

    <div class="card">
      <div class="wa-title">WAAFELSS</div>
      <div class="wa-input no-print">
        <span class="wa-label">Age</span>
        <input id="ageInput" type="number" min="0" placeholder="Enter age">
        <button id="monthsBtn">Months</button>
        <button id="yearsBtn">Years</button>
      </div>
      <div class="wa-grid">
        <div class="w-row"><div class="w-tag">Age</div><div id="wAge" class="w-val">—</div></div>
        <div class="w-row"><div class="w-tag">Weight</div><div id="wWeight" class="w-val">—</div></div>
        <div class="w-row"><div class="w-tag">Adrenaline</div><div id="wAdr" class="w-val">—</div></div>
        <div class="w-row"><div class="w-tag">Amiodarone</div><div id="wAmio" class="w-val">—</div></div>
        <div class="w-row"><div class="w-tag">Fluids</div><div id="wFluids" class="w-val">—</div></div>
        <div class="w-row"><div class="w-tag">SGA</div><div id="wSGA" class="w-val">—</div></div>
        <div class="w-row"><div class="w-tag">Energy</div><div id="wJoules" class="w-val">—</div></div>
        <div class="w-row"><div class="w-tag">D10%</div><div id="wD10" class="w-val">—</div></div>
      </div>
    </div>
  </section>
</div>

<!-- Your existing JS from the last message works AS-IS with the same IDs.
     Keep the exact JS file you already have, or paste it here. -->
<script src="app.js"></script>
</body>
</html>
