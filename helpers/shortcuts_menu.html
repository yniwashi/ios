<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Care Tools Hub</title>
  <style>
    /* ===== THEME ===== */
    :root{
      --bg:#0f1115;            /* page background */
      --surface:#171a21;       /* card/button surface */
      --accent:#2f81f7;        /* brand/primary */
      --accent-2:#1fbf7a;      /* success toggle */
      --text:#eef2ff;          /* main text */
      --muted:#99a2b4;         /* secondary text */
      --radius:14px;
      --speed:.25s;
      --shadow:0 8px 20px rgba(0,0,0,.35);
      --shadow-2:0 12px 30px rgba(0,0,0,.45);
    }

    /* ===== LAYOUT ===== */
    html,body{height:100%}
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,system-ui,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
      -webkit-tap-highlight-color:transparent;
    }
    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding:16px clamp(12px,4vw,28px) 28px;
      display:flex;
      flex-direction:column;
      gap:16px;
    }

    /* ===== HEADER ===== */
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .brand{
      display:flex;align-items:center;gap:10px;
    }
    .logo{
      width:28px;height:28px;border-radius:8px;
      background:linear-gradient(150deg,var(--accent),#8854d0);
      box-shadow:var(--shadow);
    }
    .title{
      font-size:clamp(18px,3.5vw,22px);
      letter-spacing:.2px;
      margin:0;
    }

    /* ===== NEWS BANNER (auto-hides if empty) ===== */
    .news{
      display:none;
      background:linear-gradient(180deg,rgba(47,129,247,.14),rgba(47,129,247,.06));
      border:1px solid rgba(47,129,247,.35);
      color:#dbe7ff;
      padding:12px 14px;
      border-radius:12px;
      line-height:1.35;
      animation:fadeIn .3s ease-out both;
    }
    @keyframes fadeIn{from{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:none}}

    /* ===== SWITCH ===== */
    .switch-row{
      display:flex;align-items:center;justify-content:space-between;
      background:var(--surface);
      border-radius:12px;
      padding:10px 12px;
    }
    .switch-copy{
      display:flex;flex-direction:column;gap:4px;
    }
    .switch-title{font-size:15px;margin:0}
    .switch-note{font-size:12px;color:var(--muted);margin:0}

    .toggle{
      position:relative;width:56px;height:30px;flex:none;
    }
    .toggle input{opacity:0;width:0;height:0}
    .rail{
      position:absolute;inset:0;border-radius:999px;
      background:#222734;border:1px solid #2b3140;
      transition:background var(--speed),border var(--speed),box-shadow var(--speed);
      box-shadow:inset 0 2px 6px rgba(0,0,0,.35);
    }
    .knob{
      position:absolute;left:3px;top:3px;width:24px;height:24px;border-radius:50%;
      background:linear-gradient(180deg,#ffffff,#dfe7ff);
      box-shadow:0 2px 6px rgba(0,0,0,.35);
      transition:transform var(--speed);
    }
    .toggle input:checked + .rail{background:linear-gradient(180deg,var(--accent-2),#0ea76a);border-color:#20c385}
    .toggle input:checked + .rail .knob{transform:translateX(26px)}

    /* ===== GRID ===== */
    .grid{
      display:grid;
      gap:10px;
      grid-template-columns:repeat(auto-fit,minmax(110px,1fr));
    }
    @media (orientation:landscape){
      .grid{grid-template-columns:repeat(auto-fit,minmax(120px,1fr))}
    }

    /* ===== BUTTON CARD ===== */
    .btn{
      display:flex;flex-direction:column;align-items:center;justify-content:center;
      gap:8px;
      background:linear-gradient(180deg,#1a1f28,#141821);
      border:1px solid #232a37;
      border-radius:12px;
      text-decoration:none;color:var(--text);
      padding:12px 8px;
      min-height:84px;
      font-size:13px;font-weight:600;
      letter-spacing:.2px;text-align:center;
      box-shadow:var(--shadow);
      transition:transform var(--speed),box-shadow var(--speed),border var(--speed),background var(--speed);
      will-change:transform;
      user-select:none;
    }
    .btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-2)}
    .btn:active{transform:translateY(0) scale(.98)}
    .ico{width:24px;height:24px;display:block}
    .muted{opacity:.9;font-weight:500}

    /* subtle “pop” on mount */
    .btn{opacity:0;animation:pop .35s ease-out forwards}
    .btn:nth-child(odd){animation-delay:.02s}
    .btn:nth-child(even){animation-delay:.06s}
    @keyframes pop{from{opacity:0;transform:scale(.96)}to{opacity:1;transform:scale(1)}}
  </style>
</head>
<body>
  <div class="wrap">
    <!-- Header -->
    <div class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <h1 class="title">Care Tools Hub</h1>
      </div>
    </div>

    <!-- News (hidden if no message) -->
    <div id="news" class="news"></div>

    <!-- Shortcuts Mode -->
    <div class="switch-row">
      <div class="switch-copy">
        <p class="switch-title">Shortcuts Mode</p>
        <p class="switch-note">Enable to run items in the Shortcuts app. When off, buttons open their normal links.</p>
      </div>
      <label class="toggle" aria-label="Toggle Shortcuts Mode">
        <input id="mode" type="checkbox" />
        <div class="rail"><div class="knob"></div></div>
      </label>
    </div>

    <!-- Buttons -->
    <div id="grid" class="grid"></div>
  </div>

  <!-- ===== Icons (inline SVG paths) ===== -->
  <svg style="display:none" xmlns="http://www.w3.org/2000/svg">
    <symbol id="ico-user" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2a5 5 0 1 1 0 10a5 5 0 0 1 0-10Zm0 12c-4 0-8 2-8 5v1h16v-1c0-3-4-5-8-5Z"/></symbol>
    <symbol id="ico-doc"  viewBox="0 0 24 24"><path fill="currentColor" d="M14 2H6a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V8Zm-2 14h-2v-2h2Zm0-4h-2v-2h2Zm0-4h-2V6h2Z"/></symbol>
    <symbol id="ico-plus" viewBox="0 0 24 24"><path fill="currentColor" d="M19 13H13v6h-2v-6H5v-2h6V5h2v6h6z"/></symbol>
    <symbol id="ico-home" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3 2 12h3v8h6v-6h2v6h6v-8h3z"/></symbol>
    <symbol id="ico-call" viewBox="0 0 24 24"><path fill="currentColor" d="M6.6 10.8c1.44 2.83 3.76 5.14 6.6 6.6l2.2-2.2c.27-.27.67-.36 1.02-.24c1.12.37 2.33.57 3.57.57c.55 0 1 .45 1 1V20c0 .55-.45 1-1 1c-9.39 0-17-7.61-17-17c0-.55.45-1 1-1H7.5c.55 0 1 .45 1 1c0 1.25.2 2.45.57 3.57c.11.35.02.75-.25 1.02z"/></symbol>
    <symbol id="ico-heart" viewBox="0 0 24 24"><path fill="currentColor" d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.04z"/></symbol>
    <symbol id="ico-globe" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2a10 10 0 1 0 0 20a10 10 0 0 0 0-20ZM4.93 6.27A8 8 0 0 1 9 4.07V8H6c-.97 0-1.75.78-1.75 1.75V12h2.75v2H5a2 2 0 0 0-2 2v.8a8 8 0 0 1 1.93-10.53ZM12 20a8 8 0 0 1-2-.27V16h2l2-2V9h3a2 2 0 0 0 2-2v-.28A8 8 0 0 1 12 20Z"/></symbol>
    <symbol id="ico-flow"  viewBox="0 0 24 24"><path fill="currentColor" d="M10 4H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm6 8h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2Zm0-12h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V2Z"/></symbol>
    <symbol id="ico-wrench" viewBox="0 0 24 24"><path fill="currentColor" d="M22 19l-6.6-6.6a5 5 0 0 0-6.8-6.8L11 8L8 11L4.6 8A5 5 0 0 0 11.4 14.6L19 22z"/></symbol>
    <symbol id="ico-clip" viewBox="0 0 24 24"><path fill="currentColor" d="M16 6a4 4 0 0 0-8 0v9a6 6 0 1 0 12 0V9h-2v6a4 4 0 1 1-8 0V6a2 2 0 1 1 4 0v8h2z"/></symbol>
    <symbol id="ico-star" viewBox="0 0 24 24"><path fill="currentColor" d="M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21z"/></symbol>
    <symbol id="ico-bars" viewBox="0 0 24 24"><path fill="currentColor" d="M19 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2ZM9 17H7v-4h2Zm4 0h-2V6h2Zm4 0h-2V9h2Z"/></symbol>
    <symbol id="ico-weight" viewBox="0 0 24 24"><path fill="currentColor" d="M7 2h10l3 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8zM9 8a3 3 0 1 0 6 0"/></symbol>
    <symbol id="ico-pulse" viewBox="0 0 24 24"><path fill="currentColor" d="M3 12h4l2-5l4 10l2-5h6"/></symbol>
    <symbol id="ico-calc" viewBox="0 0 24 24"><path fill="currentColor" d="M7 21h2v-2H7Zm4 0h2v-2h-2Zm4 0h2v-2h-2ZM19 3H5v2h14Zm-4 4H9v6h6Z"/></symbol>
  </svg>

  <script>
    /* =========================
       EASY CONFIG SECTION
       ========================= */

    // 1) Optional news (set "" to hide)
    const NEWS_MESSAGE = ""; // e.g. "New care tools added. Try Shortcuts Mode."

    // 2) Shortcuts wiring
    const SHORTCUT_NAME = "Ambulance";
    const SEPARATOR = "::"; // input format: web::Button Name
    const USE_RETURN_URL = false;      // set true to round-trip back to your site
    const RETURN_URL = "https://yourdomain.com/done.html";

    // 3) Buttons list (add more later). Each can define:
    // - id (auto from text if omitted)
    // - icon: SVG symbol id
    // - href: normal (non-shortcuts) link
    // - showDefault: show when switch is OFF
    // - showShortcuts: show when switch is ON
    const BUTTONS = [
      { text:"CCP Pediatric",  icon:"ico-user",   href:"#",             showDefault:true,  showShortcuts:true },
      { text:"WAAFELSS",       icon:"ico-doc",    href:"#",             showDefault:true,  showShortcuts:true },
      { text:"CPG Wizard",     icon:"ico-plus",   href:"#",             showDefault:true,  showShortcuts:true },
      { text:"HOS",            icon:"ico-home",   href:"#",             showDefault:true,  showShortcuts:true },
      { text:"AS-Call",        icon:"ico-call",   href:"#",             showDefault:true,  showShortcuts:true },
      { text:"CPR",            icon:"ico-heart",  href:"#",             showDefault:true,  showShortcuts:true },
      { text:"Websites",       icon:"ico-globe",  href:"#",             showDefault:true,  showShortcuts:false }, // example: hide in Shortcuts mode
      { text:"Flowcharts",     icon:"ico-flow",   href:"#",             showDefault:true,  showShortcuts:true },
      { text:"Care Tools",     icon:"ico-wrench", href:"#",             showDefault:true,  showShortcuts:true },
      { text:"RSI Checklist",  icon:"ico-clip",   href:"#",             showDefault:true,  showShortcuts:true },
      { text:"SAT Score",      icon:"ico-star",   href:"#",             showDefault:true,  showShortcuts:true },
      { text:"APGAR Score",    icon:"ico-star",   href:"#",             showDefault:true,  showShortcuts:true },
      { text:"GCS Score",      icon:"ico-bars",   href:"#",             showDefault:true,  showShortcuts:true },
      { text:"Westley Score",  icon:"ico-star",   href:"#",             showDefault:true,  showShortcuts:true },
      { text:"RBS Converter",  icon:"ico-bars",   href:"#",             showDefault:true,  showShortcuts:true },
      { text:"Estimated Weight",icon:"ico-weight",href:"#",             showDefault:true,  showShortcuts:true },
      { text:"AP Pediatrics",  icon:"ico-user",   href:"#",             showDefault:true,  showShortcuts:true },
      { text:"Calculate MAP",  icon:"ico-calc",   href:"#",             showDefault:true,  showShortcuts:true },
    ];

    /* =========================
       CORE LOGIC (no edits needed)
       ========================= */

    // Build Shortcuts URL for a given button label
    function buildShortcutsUrl(label){
      const base = `shortcuts://run-shortcut?name=${encodeURIComponent(SHORTCUT_NAME)}&input=text&text=`;
      const payload = USE_RETURN_URL
        ? `web${SEPARATOR}${label}${SEPARATOR}${RETURN_URL}`
        : `web${SEPARATOR}${label}`;
      return base + encodeURIComponent(payload);
    }

    function mount(){
      // News
      const newsEl = document.getElementById("news");
      if (NEWS_MESSAGE && NEWS_MESSAGE.trim() !== ""){
        newsEl.textContent = NEWS_MESSAGE.trim();
        newsEl.style.display = "block";
      }

      // Buttons
      const grid = document.getElementById("grid");
      const toggle = document.getElementById("mode");

      function render(){
        const useShortcuts = toggle.checked;
        grid.innerHTML = "";

        BUTTONS.forEach((btn, i) => {
          const show = useShortcuts ? (btn.showShortcuts !== false) : (btn.showDefault !== false);
          if (!show) return;

          const id = (btn.id || btn.text.toLowerCase().replace(/\s+/g,"-")).replace(/[^a-z0-9\-]/gi,"-");
          const href = useShortcuts ? buildShortcutsUrl(btn.text) : (btn.href || "#");

          const a = document.createElement("a");
          a.className = "btn";
          a.id = id;
          a.href = href;
          a.style.animationDelay = `${i*20}ms`;
          a.innerHTML = `
            <svg class="ico" aria-hidden="true"><use href="#${btn.icon}"/></svg>
            <span class="muted">${btn.text}</span>
          `;

          // If default link is "#" (placeholder), block navigation and nudge user
          if (!useShortcuts && (!btn.href || btn.href === "#")){
            a.addEventListener("click",(e)=>{ e.preventDefault(); alert("This item has no link yet. Enable Shortcuts Mode or set a URL in BUTTONS[].href"); });
          }

          grid.appendChild(a);
        });
      }

      document.getElementById("mode").addEventListener("change", render);
      render();
    }

    document.addEventListener("DOMContentLoaded", mount);
  </script>
</body>
</html>
